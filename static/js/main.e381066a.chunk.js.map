{"version":3,"sources":["FaceRec.js","UploadPic.js","Picture.js","App.js","reportWebVitals.js","index.js"],"names":["addReferenceImage","name","a","referenceImageId","faceapi","withFaceLandmarks","withFaceDescriptors","linkedInPicFaces","descriptor","loadInfo","fetch","headers","response","json","console","log","loadFaces","picId","setStatusLabel","setFaceMatch","ssdMobilenetv1","loadFromUri","faceRecognitionNet","faceLandmark68Net","referenceNames","labeledDescriptors","i","length","push","faceMatcher","withFaceDescriptor","singleResult","result","bestMatch","findBestMatch","label","linkedInInfo","FaceRec","useState","statusLabel","faceMatch","useEffect","headline","href","url","UploadPic","props","state","pictures","onDrop","bind","pictureFiles","pictureDataURLs","this","setState","concat","withIcon","buttonText","fileSizeError","fileTypeError","onChange","imgExtension","withPreview","maxFileSize","Component","Picture","id","is_test","display","pic_id","charAt","toUpperCase","slice","path","style","position","left","loading","src","alt","width","height","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e381066a.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport * as faceapi from 'face-api.js';\n\nconst LINKEDIN_INFO_FILE = \"linkedin_data/info/info.json\"\n\n// Detect face in a single image and return a LabeledFaceDescriptor\nconst addReferenceImage = async (name) => {\n  const referenceImageId = name + '_linkedin_pic'\n  const linkedInPicFaces = await faceapi\n    .detectAllFaces(referenceImageId)\n    .withFaceLandmarks()\n    .withFaceDescriptors()\n  return new faceapi.LabeledFaceDescriptors(\n    name,\n    [linkedInPicFaces[0].descriptor]\n  )\n}\n\nconst loadInfo = async () => {\n  var response = await fetch(LINKEDIN_INFO_FILE, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  })\n  var json = await response.json()\n  console.log(json)\n  return json\n}\n\nconst loadFaces = async (picId, setStatusLabel, setFaceMatch) => {\n  // Load models\n  setStatusLabel('Loading models')\n  await faceapi.nets.ssdMobilenetv1.loadFromUri('models')\n  await faceapi.nets.faceRecognitionNet.loadFromUri('models')\n  await faceapi.nets.faceLandmark68Net.loadFromUri('models')\n\n  // Create face matcher using reference images\n  setStatusLabel('Creating descriptors')\n\n  const referenceNames = ['bimesh', 'jet', 'ellen', 'jazz', 'komal', 'ankita', 'umair', 'anandini', 'sumedha', 'devanshu']\n  const labeledDescriptors = []\n\n  for (var i = 0; i < referenceNames.length; i++) {\n    console.log(\"name: \" + referenceNames[i])\n    labeledDescriptors.push(await addReferenceImage(referenceNames[i]))\n  }\n  const faceMatcher = new faceapi.FaceMatcher(labeledDescriptors)\n\n  // Load test pic and get descriptors\n  const singleResult = await faceapi\n    .detectSingleFace(picId)\n    .withFaceLandmarks()\n    .withFaceDescriptor()\n\n  // Compare descriptors\n  var result = null;\n  if (singleResult) {\n    const bestMatch = faceMatcher.findBestMatch(singleResult.descriptor)\n    console.log(bestMatch)\n    result = bestMatch.label\n  }\n  console.log(result)\n\n  // Map result to a LinkedIn profile\n  setStatusLabel('Loading LinkedIn Info')\n  if (result !== null && result !== 'unknown') {\n    var linkedInInfo = await loadInfo()\n    console.log('linkedin info')\n    setFaceMatch(linkedInInfo[result])\n    setStatusLabel('Face match complete!')\n  } else {\n    setStatusLabel('No match found')\n  }\n}\n\nfunction FaceRec({ picId }) {\n  const [statusLabel, setStatusLabel] = useState(\"\");\n  const [faceMatch, setFaceMatch] = useState(null);\n\n  useEffect(() => {\n    loadFaces(picId, setStatusLabel, setFaceMatch)\n  }, [picId]);\n\n  return (\n    <div>\n      <p>{!faceMatch && statusLabel}</p>\n      <p>{faceMatch && faceMatch.name}</p>\n      <p>{faceMatch && faceMatch.headline}</p>\n      <p>{faceMatch && <a href={faceMatch.url}>{faceMatch.url}</a>}</p>\n    </div>\n  );\n}\n\nexport default FaceRec;","import { Component } from \"react\";\nimport ImageUploader from \"react-images-upload\";\n\nclass UploadPic extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { pictures: [] };\n        this.onDrop = this.onDrop.bind(this);\n      }\n    \n      onDrop(pictureFiles, pictureDataURLs) {\n        this.setState({\n          pictures: this.state.pictures.concat(pictureFiles)\n        });\n      }\n    \n      render() {\n        return (\n          <ImageUploader\n            withIcon={true}\n            buttonText=\"Upload Image\"\n            label=\"Max File Size: 5MB, Accepted File Types: jpg and png\"\n            fileSizeError=\": File uploaded is too BIG!\"\n            fileTypeError=\": File uploaded is not a supported file type. Please upload jpg or png only\"\n            onChange={this.onDrop}\n            imgExtension={[\".jpg\", \".png\"]}\n            withPreview={true}\n            maxFileSize={5242880}\n          />\n        );\n      }\n}\n\nexport default UploadPic;","// Expecting the props.name\nconst PATH = \"linkedin_data/pics/\"\nconst TEST_PATH = \"test_pics/\"\n\nvar Picture = ({id, is_test=false, display=false}) => {\n    const pic_id = id + (is_test ? \"_test_pic\" : \"_linkedin_pic\")\n    const name = id.charAt(0).toUpperCase() + id.slice(1)\n    const path = (is_test ? TEST_PATH : PATH) + id + \".jpeg\"\n    return (\n        <div style={(display ? {} : {position: \"absolute\", left: \"-999999px\", loading: \"lazy\"})}>\n            {name}<br></br>\n            <img id={pic_id} src={path} alt={pic_id} width=\"400px\" height=\"auto\"></img>\n        </div>\n    );\n}\n\nexport default Picture;","import { Component } from 'react';\nimport './App.css';\nimport FaceRec from './FaceRec';\nimport UploadPic from './UploadPic';\nimport Picture from './Picture'\n\nclass App extends Component {\n  render() {\n  return (\n    <div className=\"App\">\n      <UploadPic />\n      <p>\n        Test pictures:\n      </p>\n      <Picture id=\"bimesh\" is_test={true} display={true}/>\n      <FaceRec picId=\"bimesh_test_pic\"/>\n      <Picture id=\"jet\" is_test={true} display={true}/>\n      <FaceRec picId=\"jet_test_pic\"/>\n\n      {/* Reference pictures */}\n      <Picture id=\"bimesh\"/>\n      <Picture id=\"jet\"/>\n      <Picture id=\"ellen\"/>\n      <Picture id=\"jazz\"/>\n      <Picture id=\"komal\"/>\n      <Picture id=\"ankita\"/>\n      <Picture id=\"umair\"/>\n      <Picture id=\"anandini\"/>\n      <Picture id=\"sumedha\"/>\n      <Picture id=\"devanshu\"/>\n\n      {/* <img id=\"bimesh_test_pic\" src=\"test_pics/bimesh.jpg\" alt=\"bimesh_test_pic\" width=\"400px\" height=\"auto\"></img>\n      <img id=\"jet_test_pic\" src=\"test_pics/jet.jpg\" alt=\"bimesh_test_pic\" width=\"400px\" height=\"auto\"></img> */}\n    </div>\n  );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}